(this["webpackJsonpcovid19-tracker"]=this["webpackJsonpcovid19-tracker"]||[]).push([[0],{32:function(e,a,t){e.exports=t.p+"static/media/logo.d7265326.png"},40:function(e,a,t){e.exports=t(74)},68:function(e,a,t){},7:function(e,a,t){e.exports={container:"Cards_container__33yw7",infected:"Cards_infected__1zPUl",recovered:"Cards_recovered__3yhxp",deaths:"Cards_deaths__3YUFu",card:"Cards_card__QjhxC",label:"Cards_label__3fXuU",value:"Cards_value__xiVsk"}},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),o=t.n(c),i=t(13),l=t(14),s=t(2),d=t.n(s),u=t(6),I=t(17),_=t.n(I),p=t(30),C={COVID19_INITIALISE_INFLIGHT:"COVID19_INITIALISE_INFLIGHT",COVID19_INITIALISE_SUCCESS:"COVID19_INITIALISE_SUCCESS",COVID19_INITIALISE_ERROR:"COVID19_INITIALISE_ERROR",COVID19_BY_COUNTRIES_INFLIGHT:"COVID19_BY_COUNTRIES_INFLIGHT",COVID19_BY_COUNTRIES_SUCCESS:"COVID19_BY_COUNTRIES_SUCCESS",COVID19_BY_COUNTRIES_ERROR:"COVID19_BY_COUNTRIES_ERROR"},m=t(31),v=t.n(m),f=function(e){return v.a.get(e||"https://covid19.mathdro.id/api")},E=function(){return function(e){e({type:C.COVID19_INITIALISE_INFLIGHT}),f().then((function(a){var t=a.data;f(t.countries).then((function(a){var n=a.data.countries;f(t.dailySummary).then((function(a){var r=a.data;e({type:C.COVID19_INITIALISE_SUCCESS,payload:{meta:t,covid19GlobalStats:[{label:"infected",value:t.confirmed.value,dailyIncrease:r.slice(-1)[0].confirmed.total-r.slice(-2)[0].confirmed.total},{label:"recovered",value:t.recovered.value},{label:"deaths",value:t.deaths.value,dailyIncrease:r.slice(-1)[0].deaths.total-r.slice(-2)[0].deaths.total}],countries:n.map((function(e){return e.name})),country:"Global",covid19CountryStats:null,appInitialised:!0,lastUpdated:r.slice(-1)[0].reportDate}})}))}))})).catch((function(){return e({type:C.COVID19_INITIALISE_ERROR})}))}},h=function(e){return function(a,t){""===e?a(E()):(a({type:C.COVID19_BY_COUNTRIES_INFLIGHT}),f(e?"".concat(t().app.meta.countries,"/").concat(e):"").then((function(n){var r=n.data;(function(e,a,t){var n=a.dailySummary;return new Promise(function(){var a=Object(p.a)(_.a.mark((function a(r,c){var o,i,l,s,d,u,I,p,C;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=new Date(Date.parse(t)),i=o.getDate(),l=o.getMonth(),s=o.getFullYear(),a.next=6,f("".concat(n,"/").concat(l+1,"-").concat(i-1,"-").concat(s));case 6:return d=a.sent,a.next=9,f("".concat(n,"/").concat(l+1,"-").concat(i-2,"-").concat(s));case 9:u=a.sent,d&&u?(p=(I=function(a){return a.reduce((function(a,t){var n=t.countryRegion,r=t.confirmed,c=t.deaths,o=t.recovered;return n.toLowerCase()===e.toLowerCase()?a?{confirmed:Math.abs(Number(a.confirmed)+Number(r)),deaths:Math.abs(Number(a.deaths)+Number(c)),recovered:Math.abs(Number(a.recovered)+Number(o))}:{confirmed:r,deaths:c,recovered:o}:a}),{confirmed:0,deaths:0,recovered:0})})(d.data||{}),C=I(u.data||{}),r({confirmed:Math.abs((p.confirmed||0)-(C.confirmed||0)),deaths:Math.abs((p.deaths||0)-(C.deaths||0)),recovered:Math.abs((p.recovered||0)-(C.recovered||0))})):r({confirmed:0,deaths:0,recovered:0});case 11:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())})(e,t().app.meta,r.lastUpdate).then((function(t){var n=t.confirmed,c=t.recovered,o=t.deaths;a({type:C.COVID19_BY_COUNTRIES_SUCCESS,payload:{lastUpdated:r.lastUpdate,country:e,covid19CountryStats:[{label:"infected",value:r.confirmed.value,color:"rgba(0,0, 255, 0.5)",dailyIncrease:n||null},{label:"recovered",value:r.recovered.value,color:"rgba(0,255, 0, 0.5)",dailyIncrease:c||null},{label:"deaths",value:r.deaths.value,color:"rgba(255,0, 0, 0.5)",dailyIncrease:o||null}]}})}))})).catch((function(){return a({type:C.COVID19_BY_COUNTRIES_ERROR})})))}},S=t(32),O=t.n(S),b=t(90),y=(t(68),function(e){var a=e.handleCountryChange,t=e.list,n=e.label,c=e.defaultValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{defaultValue:c,onChange:function(e){a(e.target.value)}},r.a.createElement("option",{value:""},"Global"),t.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)}))),r.a.createElement("div",{style:{marginTop:"10px"}},"Last updated: ",new Date(Date.parse(n)).toLocaleDateString()))}),N=t(19),R=t.n(N),g=t(36),T=t.n(g),D=t(7),V=t.n(D),L=function(e){var a=e.items,t=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{start:0,duration:2.5,separator:",",className:V.a.value,end:e,prefix:a,suffix:t}};return r.a.createElement("div",{className:V.a.container},a.map((function(e,a){var n=e.label,c=e.value,o=e.dailyIncrease;return r.a.createElement("div",function(e,a){if(!e)return!1;var t=!1;return"infected"===e.toLowerCase()&&(t=V.a.infected),"recovered"===e.toLowerCase()&&(t=V.a.recovered),"deaths"===e.toLowerCase()&&(t=V.a.deaths),{key:a,className:T()(V.a.card,t)}}(n,a),r.a.createElement("div",{className:V.a.label},n),r.a.createElement(R.a,t(c,"Total: ")),o&&r.a.createElement("div",null,r.a.createElement(R.a,t(o,"New: (+",")"))))})))},U=(t(71),t(72),function(){return r.a.createElement("div",{className:"loader"},"Loading...")}),A=function(e){var a=e.inFlight,t=e.isError,n=e.lastUpdated,c=e.appInitialised,o=e.countries,i=e.country,l=e.covid19GlobalStats,s=e.covid19CountryStats,d=e.initialise,u=e.acCovid19ByCountry;return r.a.useEffect((function(){c||d()}),[c,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"App__header"},r.a.createElement("img",{className:"App__content App__header__image",src:O.a,alt:"COVID-19"})),r.a.createElement("main",{className:"App__main"},t&&r.a.createElement("div",{className:"App__content App__main__error",onClick:d},"Something went wrong, click to refresh!"," "),!t&&r.a.createElement("div",{className:"".concat(a?"":"App__main__content ","App__content")},a&&r.a.createElement(U,null),!a&&o&&r.a.createElement(y,{handleCountryChange:u,list:o,label:n,defaultValue:i||""}),!a&&(s||l)&&r.a.createElement(L,{items:s||l}))),r.a.createElement("footer",{className:"App__footer"},"\xa9 Viva Technology Consultancy Ltd. ",(new Date).getFullYear()))};A.propType={inFlight:d.a.bool.isRequired,isError:d.a.bool.isRequired,lastUpdated:d.a.string.isRequired,countries:d.a.arrayOf(d.a.string),country:d.a.string,covid19CountryStats:d.a.any,covid19GlobalStats:d.a.any,acCovid19Daily:d.a.func.isRequired,acCovid19Countries:d.a.func.isRequired,acCovid19ByCountry:d.a.func.isRequired,appInitialised:d.a.bool.isRequired};var w=Object(i.b)((function(e){return Object(l.a)({},e.app)}),(function(e){return Object(u.bindActionCreators)({initialise:E,acCovid19ByCountry:h},e)}))(A),F=t(37),B=t(38),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=a.payload,n=a.type;switch(n){case C.COVID19_INITIALISE_INFLIGHT:case C.COVID19_BY_COUNTRIES_INFLIGHT:return Object.assign({},e,{inFlight:!0,isError:!1});case C.COVID19_INITIALISE_SUCCESS:case C.COVID19_BY_COUNTRIES_SUCCESS:return Object.assign({},e,Object(l.a)({},t),{inFlight:!1,isError:!1});case C.COVID19_INITIALISE_ERROR:case C.COVID19_BY_COUNTRIES_ERROR:return Object.assign({},{isError:!0},{inFlight:!1,appInitialised:!0});default:return Object.assign({},e,{inFlight:!1})}},j=Object(u.combineReducers)({app:Y}),G=Object(u.createStore)(j,{},Object(F.composeWithDevTools)(Object(u.applyMiddleware)(B.a)));t(73);o.a.render(r.a.createElement(i.a,{store:G},r.a.createElement(w,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.93e24734.chunk.js.map